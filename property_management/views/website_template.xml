<odoo>
    <template id="customer_form_template" name="Customer Web Form">
        <t t-call="website.layout">
            <div class="container mt-5" id="wrap">
                <h2>Rental/Lease Booking</h2>

                <!-- Modal for messages -->
                <div id="modal_msg" class="modal" style="display:none;">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title"></h5>
                                <button type="button" class="btn-close" id="dismiss" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <p>Please correct the issue and try again.</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" id="dismiss">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <form action="/website/customer/create" method="post" class="form-group">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                    <div class="form-group mb-3" style="display:none;">
                        <span id="tenant">
                            <t t-esc="request.env.user.partner_id.name"/>
                        </span>
                    </div>

                    <div class="form-group mb-3">
                        <label for="start_date">Start Date</label>
                        <input type="date" id="start_date" name="start_date" class="form-control date"/>
                    </div>
                    <div class="form-group mb-3">
                        <label for="end_date">End Date</label>
                        <input type="date" id="end_date" name="end_date" class="form-control date"/>
                    </div>

                    <div class="form-group mb-3">
                        <span id="days_count" class="badge bg-info"></span>
                    </div>

                    <div class="form-group mb-3">
                        <label for="rental_type_global">Rental Type</label>
                        <select name="rental_type" class="form-control select_rental_type">
                            <option value="">Select Rental Type</option>
                            <t t-foreach="rental_types" t-as="rtype">
                                <option t-att-value="rtype[0]">
                                    <t t-esc="rtype[1]"/>
                                </option>
                            </t>
                        </select>
                    </div>

                    <div class="col-12">
                        <table class="table table-bordered mt-3" id="material_table">
                            <thead>
                                <tr>
                                    <th>Property *</th>
                                    <th>Quantity *</th>
                                    <!--                                    <th>Rental Type *</th>-->
                                    <th>Owner</th>
                                    <th>Amount</th>
                                    <th>Sub Amount</th>
                                    <th width="5%"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="property_order_line">
                                    <td>
                                        <select name="property_id" id="property_id" required="1"
                                                class="form-control property_name">
                                            <option value="">Select Property</option>
                                            <t t-foreach="properties" t-as="prop">
                                                <option t-att-value="prop.id">
                                                    <t t-esc="prop.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="number"
                                               class="form-control total_cost total_days"
                                               name="total_days"
                                               value=""
                                               placeholder="Quantity"
                                               min="0" step="1"/>
                                    </td>
                                    <td>
                                        <span class="owner"></span>
                                    </td>
                                    <td>
                                        <span class="amount"></span>
                                    </td>
                                    <td>
                                        <span class="sub_amount"></span>
                                    </td>
                                    <td>
                                        <button type="button"
                                                class="btn fa fa-trash-o remove_line text-danger"></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Add Material Button -->
                    <div class="col-12 text-end">
                        <button type="button" class="btn btn-info add_total_project">
                            <i class="fa fa-plus"></i>
                            Add Material
                        </button>
                    </div>

                    <button type="submit" class="btn btn-primary custom_create">Submit</button>
                </form>
            </div>
        </t>
    </template>

    <template id="customer_success_template" name="Customer Success">
        <t t-call="website.layout">
            <section class="container py-5 text-center">
                <h3>Rental Record Created Successfully!</h3>
                <p>Your rental record has been submitted successfully.</p>
                <t t-if="lease and lease.property_ids">
                    <p>Property:
                        <b>
                            <t t-esc="lease.property_ids[0].property_id.name"/>
                        </b>
                    </p>
                </t>
                <a href="/webform" class="btn btn-primary mt-3">Back to Form</a>
                <a href="/web/list" class="btn btn-primary mt-3">Back</a>
            </section>
        </t>
    </template>

    <template id='property_record_list_view' name="record list view">
        <t t-call="website.layout">
            <div class="container mt-5">
                <a href="/webform" class="btn btn-primary mt-3">Create</a>
                <div class="col-12">
                    <table class="table table-bordered mt-3" id="material_table">
                        <thead>
                            <tr class="active">
                                <th class="text-left">Invoice Number</th>
                                <th class="text-center">Property</th>
                                <th class="text-center">Start Date</th>
                                <th class="text-center">End Date</th>
                                <th class="text-end">Rental Type</th>
                            </tr>
                        </thead>
                        <t t-foreach="property" t-as="record">
                            <tr>
                                <td class="text-left">
                                    <span t-field="record.name"/>
                                </td>
                                <td class='text-left'>
                                    <t t-foreach="record.property_ids" t-as="line">
                                        <span t-field="line.property_id"/>
                                        <br/>
                                    </t>
                                </td>

                                <td class='text-center'>
                                    <span t-field="record.start_date"/>
                                </td>
                                <td class='text-center'>
                                    <span t-field="record.end_date"/>
                                </td>
                                <td class='text-end'>
                                    <span t-field="record.rental_type"/>
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
            </div>
        </t>
    </template>
</odoo>